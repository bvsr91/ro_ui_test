<mvc:View controllerName="com.ferrero.zmrouiapp.controller.PricingNotifications"
    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.f"
    xmlns:l="sap.ui.layout"
    xmlns:smartFilterBar="sap.ui.comp.smartfilterbar"
    xmlns:smartTable="sap.ui.comp.smarttable"
    xmlns:t="sap.ui.table">
    <Page showHeader="false" enableScrolling="true" class="sapUiNoContentPadding" showNavButton="false">
        <content>
            <IconTabBar id="idIconTabBar" select=".onFilterSelect" class="sapUiResponsivePadding--header sapUiResponsivePadding--content">
                <items>
                    <IconTabFilter showAll="true" count="{=${PricingNotifications}.length}" text="Total" key="All" />
                    <IconTabSeparator />
                    <IconTabFilter icon="sap-icon://accept" iconColor="Positive" count="" text="Approved" key="Approved" />
                    <IconTabFilter icon="sap-icon://pending" iconColor="Critical" count="" text="Pending" key="Pending" />
                    <IconTabFilter icon="sap-icon://decline" iconColor="Negative" count="" text="Rejected" key="Rejected" />
                    <IconTabFilter icon="sap-icon://forward" iconColor="Marker" count="" text="Forwarded" key="Forwarded" visible="{= ${userModel>/role/role_role} === 'LDT' || ${userModel>/role/role_role} === 'SLP' ? true : false}" />
                    <IconTabFilter icon="sap-icon://in-progress" iconColor="Tile" count="" text="In Progress" key="In Progress" visible="{= ${userModel>/role/role_role} === 'LDT' || ${userModel>/role/role_role} === 'SLP' ? true : false}"/>

                </items>
                <content>
                    <smartTable:SmartTable entitySet="PricingNotifications_U" id="idSTabPrcingNoti" smartFilterId="smartFilterBar" useExportToExcel="true" beforeExport="onBeforeExport" useTablePersonalisation="true" header="Pricing Notifications" showRowCount="true" useVariantManagement="false" enableAutoBinding="true" class="sapUiResponsiveContentPadding" tableType="Table" enableAutoColumnWidth="true" initiallyVisibleFields="manufacturerCode, country" ignoredFields="uuid,Pricing_Conditions_uuid" requestAtLeastFields="uuid,Pricing_Conditions_uuid" beforeRebindTable="onBeforeRebindTable">
                        <t:Table id="idUiTabPricingNoti" rowSelectionChange="onRowlSelChange" visibleRowCount="8">
                        </t:Table>
                        <smartTable:customToolbar>
                            <OverflowToolbar>
                                <ToolbarSpacer />
                                <Button icon="sap-icon://alert" text="Logs ({=${message>/}.length})" visible="{=${message>/}.length > 0}" type="Emphasized" press="onMessagePopoverPress"/>

                                <Button icon="sap-icon://accept" text="Approve" type="Accept" tooltip="Approve" press=".handleApprove" visible="{=${userModel>/role/role_role} === 'GCM' || ${userModel>/role/role_role} === 'LP' || ${userModel>/role/role_role} === 'SGC' || ${userModel>/role/role_role} === 'SLP'? true : false}"/>
                                <Button icon="sap-icon://decline" text="Reject" type="Reject" tooltip="Reject" press=".handleReject" visible="{=${userModel>/role/role_role} === 'GCM' || ${userModel>/role/role_role} === 'LP' || ${userModel>/role/role_role} === 'SGC' || ${userModel>/role/role_role} === 'SLP'? true : false}"/>
                            </OverflowToolbar>
                        </smartTable:customToolbar>
                    </smartTable:SmartTable>
                </content>
            </IconTabBar>
        </content>
    </Page>
</mvc:View>